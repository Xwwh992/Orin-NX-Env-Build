使用jtop可以查看各种数值包括风扇的转速，但是发现无法手动将风扇转速调节为100%

使用这个命令可以将风扇转速手动设置为100%，但是重启会失效

可以通过**systemctrl**来设置开机自启动

```bash
sudo jetson_clocks --fan
```

### 创建脚本

```
sudo nano /usr/local/bin/set_jetson_fan.sh
```

输入以下内容

```
#!/bin/bash

# 关闭 nvfancontrol，等待风扇节点出现，再拉满

systemctl stop nvfancontrol

# 等待 nvpmodel/驱动就绪（最多 15s）

for i in {1..15}; do
if [ -e /sys/devices/platform/pwm-fan ]; then break; fi
sleep 1
done
/usr/bin/jetson_clocks --fan
```

ctrl+o+回车 保存

ctrl+x退出

赋予执行权限

```
sudo chmod +x /usr/local/bin/set_jetson_fan.sh
```

### 创建服务

```
sudo nano /etc/systemd/system/set-jetson-fan.service
```

输入以下内容

```
[Unit]
Description=Force Jetson Fan to 100 % after boot
After=nvpmodel.service nvfancontrol.service basic.target
DefaultDependencies=no

[Service]
Type=oneshot
ExecStart=/usr/local/bin/set_jetson_fan.sh
RemainAfterExit=true

[Install]
WantedBy=multi-user.target
```

然后依次运行

```
sudo systemctl daemon-reload
sudo systemctl enable --now set-jetson-fan.service
sudo systemctl start set-jetson-fan.service
```

可以用如下命令查看服务运行状态

```
systemctl status set-jetson-fan.service
```

![image-20250913195938863](./images/image-20250913195938863.png)

另外pwm没有启用，这个可能要单独源码编译安装插件，还不知道